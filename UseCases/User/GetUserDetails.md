
### 🧾 Use Case: `GetUserDetails`

**(دریافت اطلاعات کامل یک کاربر خاص بر اساس شناسه یا نام کاربری)**

|ویژگی|توضیح|
|---|---|
|**هدف (Goal)**|نمایش کامل اطلاعات کاربر برای مشاهده یا ویرایش|
|**نقش‌های مجاز (Actors)**||

- `Admin`
    
- `UserManager`
    
- خود کاربر (در برخی موارد محدود) |  
    | **پیش‌شرط‌ها (Preconditions)** |
    
- کاربر وارد سیستم شده باشد
    
- دارای مجوز `ViewUserDetailPermission` باشد (یا مجوز عمومی مشاهده کاربران) |  
    | **پس‌شرط‌ها (Postconditions)** |
    
- اطلاعات کامل کاربر انتخاب‌شده به‌صورت امن نمایش داده می‌شود |
    

---

### 🔁 جریان اصلی (Main Flow)

1. کاربر وارد لیست کاربران می‌شود
    
2. روی دکمه "مشاهده جزئیات" کنار یکی از کاربران کلیک می‌کند
    
3. سیستم اطلاعات کامل آن کاربر را واکشی کرده و در یک صفحه یا دیالوگ نمایش می‌دهد
    

---

### 📋 فیلدهای نمایشی پیشنهادی

|فیلد|توضیح|
|---|---|
|FullName|نام کامل|
|Username|نام کاربری|
|Email|ایمیل|
|PhoneNumber|شماره تماس|
|NationalCode|کد ملی (اختیاری)|
|Roles|لیست نقش‌های اختصاص‌یافته|
|Permissions (اختیاری)|لیست سطح دسترسی‌ها|
|Status|فعال / غیرفعال|
|CreatedAt|تاریخ ایجاد حساب|
|LastLogin|آخرین ورود به سیستم|
|ProfilePicture|عکس پروفایل (اختیاری)|

---

### 🔄 جریان جایگزین (Alternate Flows)

- اگر کاربر با `UserId` یا `Username` مشخص‌شده وجود نداشته باشد → پیام خطای مناسب
    
- اگر کاربر به اطلاعات سایر کاربران دسترسی نداشته باشد → پیام خطای مجوز
    

---

### ❗ استثناها (Exceptions)

- اختلال در ارتباط با پایگاه داده
    
- تلاش برای دسترسی به اطلاعات کاربر دیگر بدون مجوز
    

---

### ✅ خروجی

- JSON یا View Model حاوی اطلاعات کامل کاربر جهت نمایش در پنل مدیریت یا ویرایش