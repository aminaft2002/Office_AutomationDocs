
### Use Case: `UpdateUserProfile`

|ویژگی|توضیح|
|---|---|
|**هدف (Goal)**|به‌روزرسانی اطلاعات کاربری شامل نام، شماره تماس، سمت، آواتار و سایر اطلاعات عمومی|
|**نقش‌های مجاز (Actors)**|`User (خود کاربر)`, `Admin`, `HR Manager`|
|**پیش‌شرط‌ها (Preconditions)**||

- کاربر وارد حساب کاربری خود شده باشد
    
- دسترسی لازم برای ویرایش پروفایل داشته باشد (در مورد ویرایش دیگران: فقط مدیر یا HR) |  
    | **پس‌شرط‌ها (Postconditions)** |
    
- اطلاعات جدید در پایگاه داده ذخیره شده است
    
- تغییرات در لاگ (audit trail) ثبت شده‌اند |  
    | **سناریوی اصلی (Main Flow)** |
    

1. کاربر وارد صفحه پروفایل می‌شود
    
2. روی دکمه "ویرایش" کلیک می‌کند
    
3. فرم شامل اطلاعات فعلی نمایش داده می‌شود
    
4. کاربر اطلاعات مورد نظر را تغییر می‌دهد (نام، شماره تماس، آواتار و...)
    
5. دکمه ذخیره را کلیک می‌کند
    
6. اطلاعات اعتبارسنجی شده و در سیستم ذخیره می‌شوند
    
7. پیغام موفقیت نمایش داده می‌شود |  
    | **خطاها / استثناها (Exceptions)** |
    

- داده نامعتبر (مثلاً ایمیل اشتباه یا شماره تماس نادرست)
    
- عدم دسترسی به ویرایش پروفایل دیگران (درصورتی که نقش مناسب نداشته باشد)
    
- خطای ارتباط با سرور یا دیتابیس ⇒ نمایش پیغام "مشکلی در به‌روزرسانی اطلاعات رخ داد" |  
    | **الزامات رابط کاربری (UI Requirements)** |
    
- فرم قابل ویرایش با پیش‌فرض اطلاعات فعلی
    
- آپلود تصویر پروفایل (پیشنهاد: با پیش‌نمایش و حذف تصویر فعلی)
    
- پیام موفقیت یا خطا در پایین فرم |  
    | **رویدادهای جانبی (Side Effects)** |
    
- ثبت لاگ تغییرات
    
- ممکن است به‌روزرسانی اطلاعات کاربر در سیستم‌های مرتبط (مثلاً نام در سربرگ نامه) تأثیر بگذارد |  
    | **ملاحظات امنیتی (Security Notes)** |
    
- کاربر فقط مجاز به ویرایش اطلاعات خود است (مگر اینکه ادمین باشد)
    
- کنترل سطح دسترسی دقیق هنگام ارسال درخواست سمت سرور |