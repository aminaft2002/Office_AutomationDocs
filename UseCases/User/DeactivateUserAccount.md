

### ✅ Use Case: `DeactivateUserAccount`

**(غیرفعال‌سازی حساب کاربری)**

|ویژگی|توضیح|
|---|---|
|**هدف (Goal)**|غیرفعال کردن یک حساب کاربری بدون حذف کامل اطلاعات او از سیستم|
|**نقش‌های مجاز (Actors)**|`Admin`, `HR Manager`|
|**پیش‌شرط‌ها (Preconditions)**||

- کاربر هدف در سیستم ثبت شده باشد
    
- نقش اجراکننده دارای مجوز غیرفعال‌سازی کاربران باشد (Admin یا HR) |  
    | **پس‌شرط‌ها (Postconditions)** |
    
- حساب کاربر در وضعیت "غیرفعال" قرار گرفته است
    
- دسترسی کاربر به سامانه مسدود شده
    
- در صورت ورود، با پیام "حساب شما غیرفعال شده است" مواجه خواهد شد |  
    | **سناریوی اصلی (Main Flow)** |
    

1. ادمین وارد پنل مدیریت کاربران می‌شود
    
2. کاربر مورد نظر را از لیست انتخاب می‌کند
    
3. روی دکمه "غیرفعال‌سازی" کلیک می‌کند
    
4. یک دیالوگ تأیید نمایش داده می‌شود
    
5. با تأیید نهایی، وضعیت حساب به `Deactivated` تغییر می‌یابد
    
6. پیام موفقیت نمایش داده می‌شود |  
    | **خطاها / استثناها (Exceptions)** |
    

- تلاش برای غیرفعال‌سازی کاربر با دسترسی Admin (در صورت عدم مجوز)
    
- خطای ارتباط با سرور یا دیتابیس
    
- کاربر قبلاً غیرفعال شده است ⇒ نمایش پیام هشدار |  
    | **الزامات رابط کاربری (UI Requirements)** |
    
- دکمه یا گزینه "Deactivate" در لیست کاربران
    
- دیالوگ هشدار با متن تأیید
    
- نمایش برچسب "غیرفعال" در کنار کاربران غیرفعال |  
    | **رویدادهای جانبی (Side Effects)** |
    
- ارسال پیام داخلی یا ایمیل به کاربر غیرفعال‌شده (در صورت پشتیبانی از نوتیفیکیشن)
    
- لاگ ثبت رویداد با زمان و نام ادمین اجراکننده |  
    | **ملاحظات امنیتی (Security Notes)** |
    
- فقط ادمین یا HR با دسترسی سطح بالا می‌تواند حساب‌ها را غیرفعال کند
    
- کاربران غیرفعال نباید اجازه ورود یا دریافت نوتیفیکیشن داشته باشند |