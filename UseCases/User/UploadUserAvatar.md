
### ๐งพ Use Case: `UploadUserAvatar`

**(ุจุงุฑฺฏุฐุงุฑ ุง ุชุบุฑ ุชุตูุฑ ููุงู ฺฉุงุฑุจุฑ)**

|ูฺฺฏ|ุชูุถุญ|
|---|---|
|**ูุฏู (Goal)**|ุจุงุฑฺฏุฐุงุฑ ุง ุจูโุฑูุฒุฑุณุงู ุชุตูุฑ ููุงู (ุขูุงุชุงุฑ) ฺฉุงุฑุจุฑ ุฏุฑ ูพุฑููุงู|
|**ููุดโูุง ูุฌุงุฒ (Actors)**||

- `User` (ุจุฑุง ุฎูุฏุด)
    
- `Admin` (ุจุฑุง ุฏฺฏุฑุงู) |  
    | **ูพุดโุดุฑุทโูุง (Preconditions)** |
    
- ฺฉุงุฑุจุฑ ุจุงุฏ ุงุญุฑุงุฒ ููุช ุดุฏู ุจุงุดุฏ
    
- ูุงู ุชุตูุฑ ุจุงุฏ ฺฉ ุงุฒ ูุฑูุชโูุง ูุฌุงุฒ ุจุงุดุฏ (`jpg`, `png`, `webp`, ...)
    
- ุญุฌู ูุงู ุจุงุฏ ุฒุฑ ุญุฏ ูุฌุงุฒ (ูุซูุงู ฒMB) ุจุงุดุฏ |  
    | **ูพุณโุดุฑุทโูุง (Postconditions)** |
    
- ุชุตูุฑ ุขูุงุชุงุฑ ุฏุฑ ุณุฑูุฑ ุขูพููุฏ ุดุฏู ู ุจู ฺฉุงุฑุจุฑ ุชุฎุตุต ุฏุงุฏู ูโุดูุฏ
    
- ุขุฏุฑุณ ูุงู ุฐุฎุฑู ูโุดูุฏ ุฏุฑ ููุฏ `AvatarUrl`
    

---

### ๐ ุฌุฑุงู ุงุตู (Main Flow)

1. ฺฉุงุฑุจุฑ ูุงุฑุฏ ุจุฎุด ูุฑุงุด ูพุฑููุงู ูโุดูุฏ
    
2. ุฏฺฉูู "ุชุบุฑ ุชุตูุฑ ูพุฑููุงู" ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ
    
3. ฺฉ ูุงู ุชุตูุฑ ุงุฒ ุณุณุชู ุงูุชุฎุงุจ ู ุงุฑุณุงู ูโฺฉูุฏ
    
4. ุณุณุชู ุชุตูุฑ ุฑุง ุงุนุชุจุงุฑุณูุฌ ู ุณูพุณ ุฏุฑ ูุถุง ูุงู ุฐุฎุฑู ูโฺฉูุฏ
    
5. ููฺฉ ุชุตูุฑ ุฏุฑ ูพุฑููุงู ฺฉุงุฑุจุฑ ุซุจุช ูโุดูุฏ
    
6. ูพุงู "ุชุตูุฑ ุจุง ููููุช ุจุงุฑฺฏุฐุงุฑ ุดุฏ" ููุงุด ุฏุงุฏู ูโุดูุฏ
    

---

### ๐๏ธ ูพุงุฏูโุณุงุฒ ูู

|ูฺฺฏ|ููุฏุงุฑ|
|---|---|
|ูุฏู|ููุฏ `AvatarUrl: string?` ุฏุฑ `User`|
|ุฐุฎุฑูโุณุงุฒ|ูุงู ุฏุฑ ูุณุฑ `wwwroot/uploads/avatars/{userId}.jpg` ุง ูุถุง ุงุจุฑ|
|ุงุนุชุจุงุฑุณูุฌ|ุจุฑุฑุณ MIME type ู ุญุฌู ูุงู|
|ุงููุช||

- ูุญุฏูุฏุช ุงูุฏุงุฒู ู ููุน ูุงู
    
- ุจุฑุฑุณ ูุงูโูุง ุฌุนู
    
- ุญุฐู ุชุตูุฑ ูุจู (ุฏุฑ ุตูุฑุช ูุฌูุฏ) |
    

---

### ๐ ุฌุฑุงู ุฌุงฺฏุฒู (Alternate Flows)

- ูุงู ูุงูุนุชุจุฑ โ ููุงุด ูพุงู ุฎุทุง "ูุฑูุช ุง ุญุฌู ูุงู ูุงูุนุชุจุฑ ุงุณุช"
    
- ฺฉุงุฑุจุฑ ุจุฏูู ูุฌูุฒ ฺฉุงู โ ูพุงู ุฎุทุง "ุดูุง ุงุฌุงุฒู ุงูุฌุงู ุงู ุนููุงุช ุฑุง ูุฏุงุฑุฏ"
    
- ุฎุทุง ุณุฑูุฑ ููฺฏุงู ุฐุฎุฑู โ ููุงุด ูพุงู ุฎุทุง ุนููู
    

---

### โ ุฎุฑูุฌ

- ููุฏ `AvatarUrl` ุฏุฑ ูพุฑููุงู ฺฉุงุฑุจุฑ ุจูโุฑูุฒุฑุณุงู ูโุดูุฏ
    
- ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุตูุฑ ุฌุฏุฏ ุฑุง ููุงุด ูโุฏูุฏ