|بخش|توضیح|
|---|---|
|🎯 **هدف**|نمایش یا بازیابی لیستی از نامه‌ها به‌صورت گروه‌بندی‌شده بر اساس تگ‌ها، جهت تسهیل در طبقه‌بندی و مرور سریع‌تر|
|👤 **نقش‌های مجاز**|هر کاربر دارای دسترسی به مشاهده نامه‌ها (Viewer, Editor, Admin)|
|📥 **ورودی‌ها**|`UserId` (از توکن یا درخواست دریافت می‌شود)|
|📤 **خروجی‌ها**|لیستی از تگ‌ها، که هر کدام شامل مجموعه‌ای از نامه‌های مربوط به آن تگ است|
|🔄 **مراحل اجرای یوزکیس**||
|1️⃣|دریافت درخواست گروه‌بندی نامه‌ها بر اساس تگ‌ها|
|2️⃣|واکشی لیست نامه‌های قابل مشاهده برای `UserId`|
|3️⃣|واکشی تگ‌های مرتبط با آن نامه‌ها از جدول `LetterTag`|
|4️⃣|گروه‌بندی نامه‌ها بر اساس `TagId` (یا `TagName`)|
|5️⃣|مرتب‌سازی گروه‌ها (مثلاً بر اساس تعداد نامه یا نام تگ)|
|6️⃣|بازگرداندن ساختار گروه‌بندی‌شده به کلاینت|
|⚠️ **پیش‌شرط‌ها**|کاربر باید مجاز به مشاهده نامه‌ها و تگ‌ها باشد|
|🔐 **ملاحظات امنیتی**|تنها نامه‌هایی نمایش داده می‌شوند که کاربر به آن‌ها دسترسی دارد|
|📚 **موجودیت‌های مرتبط**|`Letter`, `Tag`, `LetterTag`, `User`|
|🚀 **قابلیت‌های توسعه آینده**||
|- افزودن فیلترهای ترکیبی (مثل فقط نامه‌های خوانده‌نشده، یا بر اساس وضعیت)||
|- پشتیبانی از جستجو درون گروه‌ها||
|- مرتب‌سازی پویا بر اساس تعداد نامه، نام تگ، یا آخرین زمان بروزرسانی||