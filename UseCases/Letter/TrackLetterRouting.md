



### ๐ฏ ูุฏู:

ฺฉุงุฑุจุฑ ุจุชูุงูุฏ ุชุงุฑุฎฺู ุงุฑุฌุงุน ูุงูู ุฑุง ูุดุงูุฏู ฺฉูุฏุ ุนู ุจุจูุฏ ูุงูู ุฏุฑ ฺู ุฒูุงูโูุงุ ุชูุณุท ฺู ุงูุฑุงุฏุ ุจู ฺฉุฌุง ุงุฑุฌุงุน ุฏุงุฏู ุดุฏู ู ูุถุนุช ูุนู ุขู ุฏุฑ ฺฉุฏุงู ูุงุญุฏ ุง ูุฒุฏ ฺฉุฏุงู ฺฉุงุฑุจุฑ ุงุณุช.

---

### ๐งฉ ูพุดโูุงุฒูุง:

|ุดุฑุท|ุชูุถุญ|
|---|---|
|ูุงูู ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ|ุจุฑุฑุณ `LetterId` ุฏุฑ ุณุณุชู|
|ฺฉุงุฑุจุฑ ุจุงุฏ ุฏุณุชุฑุณ ูุดุงูุฏู ูุงูู ุฑุง ุฏุงุดุชู ุจุงุดุฏ|ุจุฑุงุณุงุณ ูุฌูุฒูุง ุง ููุดโูุง|
|ุชุงุฑุฎฺู ุงุฑุฌุงุน ุจุงุฏ ูุจูุงู ุซุจุช ุดุฏู ุจุงุดุฏ|ุงุฒ ุทุฑู `LetterRouting` ุง `LetterFlow`|

---

### ๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงูุฒุงูุ|ุชูุถุญ|
|---|---|---|---|
|`LetterId`|`Guid`|โ|ุดูุงุณู ูุงูู ููุฑุฏูุธุฑ ุจุฑุง ุฑุฏุงุจ|
|`RequestedByUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุชโฺฉููุฏู|

---

### โ๏ธ ูุฑุงุญู ุงุฌุฑุง

1. ุจุฑุฑุณ ูุฌูุฏ ูุงูู ุจุง `LetterId`
    
2. ุจุฑุฑุณ ุฏุณุชุฑุณ ฺฉุงุฑุจุฑ ุจู ูุดุงูุฏูโ ูุงูู
    
3. ุฏุฑุงูุช ุชุงุฑุฎฺู ุงุฑุฌุงุน ุงุฒ ุฌุฏูู `LetterRouting` (ุง `LetterFlow`)
    
4. ุณุงุฎุช ฺฉ ูุณุช ุฒูุงู (timeline) ุงุฒ ูุณุฑ ุทโุดุฏู ูุงูู
    
5. ููุงุด ุงุทูุงุนุงุช ูุงููุฏ:
    
    - ุงุฒ ฺฉุฏุงู ฺฉุงุฑุจุฑ / ูุงุญุฏ โ ุจู ฺฉุฏุงู ฺฉุงุฑุจุฑ / ูุงุญุฏ
        
    - ุชุงุฑุฎ ุงุฑุฌุงุน
        
    - ุชูุถุญุงุช ุงุฑุฌุงุน (ุฏุฑ ุตูุฑุช ูุฌูุฏ)
        
    - ูุถุนุช ูุงูู ุฏุฑ ูุฑ ูุฑุญูู (ุฎูุงูุฏู ุดุฏูุ ุงูุฏุงู ุดุฏูุ ุงุฑุฌุงุน ุจุนุฏ ู ...)
        

---

### ๐ค ุฎุฑูุฌ (Output)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`RoutingSteps`|`List<RoutingStep>`|ูุณุช ูุฑุงุญู ุงุฑุฌุงุน|
|`CurrentStatus`|`LetterStatus`|ูุถุนุช ูุนู ูุงูู|
|`IsFinalDestinationReached`|`bool`|ุขุง ุจู ููุตุฏ ููุง ุฑุณุฏูุ|
|`Errors`|`List<string>`|ุฏุฑ ุตูุฑุช ุฎุทุง|

---

### ๐ ูุฏู RoutingStep (ุจุฑุง ููุงุด)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`FromUserId`|`Guid`|ฺฉุงุฑุจุฑ ุงุฑุฌุงุนโุฏููุฏู|
|`ToUserId`|`Guid`|ฺฉุงุฑุจุฑ ุฏุฑุงูุชโฺฉููุฏู|
|`FromUnitId`|`Guid?`|ูุงุญุฏ ูุฑุณุชูุฏู|
|`ToUnitId`|`Guid?`|ูุงุญุฏ ฺฏุฑูุฏู|
|`ForwardDate`|`DateTime`|ุชุงุฑุฎ ุงุฑุฌุงุน|
|`Note`|`string`|ุชูุถุญุงุช ุงุฑุฌุงุน|
|`StatusAtThisStep`|`enum`|ูุถุนุช ูุงูู ุฏุฑ ุงู ฺฏุงู|
|`IsSeen`|`bool`|ุชูุณุท ฺฏุฑูุฏู ุฎูุงูุฏู ุดุฏูุ|

---

### ๐งฑ ุงุฑุชุจุงุท ุจุง ูุฏูโูุง

- `Letter` โ ุจุฑุง ุฏุฑุงูุช ฺฉูุงุช ูุงูู
    
- `LetterRouting` โ ุชุงุฑุฎฺู ุงุฑุฌุงุน
    
- `User` ู `Unit` โ ุจุฑุง ููุงุด ูุงู ฺฉุงุฑุจุฑ ู ูุงุญุฏ ูุฑุจูุทู
    

---

### ๐ก๏ธ ุงููุช ู ุณุทุญ ุฏุณุชุฑุณ

|ุณูุงุฑู|ูุงุฒููุฏ|
|---|---|
|ูุดุงูุฏู ูุณุฑ|ูุฌูุฒ `ViewLetterRouting` ุง ุนุถูุช ุฏุฑ ุฒูุฌุฑู ุงุฑุฌุงุน|
|ูุดุงูุฏู ฺฉุงูู ุฌุฑุงู|ููุท ูุฏุฑ ุง ูุงูฺฉ ุงุตู ูุงูู|

---

### ๐ก ูฺฉุชู:

ูโุชูุงู ุงู Use Case ุฑุง ุจุง ุงูฺฉุงูุงุช ูพุดุฑูุชูโุชุฑ ุชุฑฺฉุจ ฺฉุฑุฏ ูุงููุฏ:

- ููุงุด ฺฏุฑุงูฺฉ ูุณุฑ ุงุฑุฌุงุน
    
- ููุงุด ูุฏุช ุฒูุงู ุชููู ูุงูู ุฏุฑ ูุฑ ูุฑุญูู
    
- ูุดุฏุงุฑ ุฏุฑ ุตูุฑุช ุชููู ุจุด ุงุฒ ุญุฏ ุฏุฑ ฺฉ ูุฑุญูู (ุจุฑุง ฺฏุฒุงุฑุด ุชุฎูู ุง ูุงฺฉุงุฑุขูุฏ)