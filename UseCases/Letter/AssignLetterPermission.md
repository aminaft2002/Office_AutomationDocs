
### ๐ฏ ูุฏู:

ุงุฎุชุตุงุต ฺฉ ุณุทุญ ุฏุณุชุฑุณ ูุดุฎุต ุจู ฺฉ ฺฉุงุฑุจุฑ ุง ููุด ุฎุงุต ุจุฑุง ฺฉ ูุงูู.

---

### ๐งฉ ูพุดโูุงุฒูุง:

|ุดุฑุท|ุชูุถุญ|
|---|---|
|ูุงูู ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ|ุจุฑุฑุณ `LetterId`|
|ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุชโุฏููุฏู ุจุงุฏ ูุฌูุฒ ูุฏุฑุช ุฏุณุชุฑุณโูุง ุฏุงุดุชู ุจุงุดุฏ|ุจุฑุฑุณ `LetterPermission` ุจุฑุง `ManagePermissions`|
|ฺฉุงุฑุจุฑ ูุฏู ุจุงุฏ ูุนุชุจุฑ ุจุงุดุฏ (ู ูุจุงุฏ ุฎูุฏ ฺฉุงุฑุจุฑ ุงุฌุงุฏฺฉููุฏู ูุงูู ุจุงุดุฏุ ุฏุฑ ุตูุฑุช ูุฒูู)|ุจุฑุฑุณ `TargetUserId`|
|ูุฌูุฒ ูุจูุงู ุงุฎุชุตุงุต ูุงูุชู ุจุงุดุฏ (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑ)|ุจุฑุฑุณ ููุฌูุฏุช `LetterPermission` ูุจู|

---

### ๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงูุฒุงูุ|ุชูุถุญ|
|---|---|---|---|
|`LetterId`|`Guid`|โ|ุดูุงุณู ูุงูู|
|`TargetUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ฺฉู ูุฑุงุฑ ุงุณุช ุฏุณุชุฑุณ ุจฺฏุฑุฏ|
|`PermissionType`|`LetterPermissionType`|โ|ููุน ุฏุณุชุฑุณ (ูุซู Read, Comment, Forward, Refer, ManagePermissions, Delete)|
|`RequestedByUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ฺฉู ุงู ุนููุงุช ุฑุง ุงูุฌุงู ูโุฏูุฏ|

---

### โ๏ธ ูุฑุงุญู ุงุฌุฑุง

1. ุจุฑุฑุณ ูุฌูุฏ ูุงูู ุจุง `LetterId`
    
2. ุจุฑุฑุณ ูุฌูุฏ ฺฉุงุฑุจุฑ ูุฏู ุจุง `TargetUserId`
    
3. ุจุฑุฑุณ ูุฌูุฒ `ManagePermissions` ุจุฑุง ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุชโุฏููุฏู
    
4. ุจุฑุฑุณ ุนุฏู ูุฌูุฏ ุฑฺฉูุฑุฏ ูุจู ูุดุงุจู ุฏุฑ `LetterPermission`
    
5. ุงุฌุงุฏ ุฑฺฉูุฑุฏ ุฌุฏุฏ `LetterPermission`
    
6. ุซุจุช ูุงฺฏ ุนููุงุช ุฏุฑ `LetterLog` ุจุง ููุน `PermissionAssigned`
    

---

### ๐ค ุฎุฑูุฌ (Output)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ููููุช ุนููุงุช|
|`Errors`|`List<string>`|ูุณุช ุฎุทุงูุง ุงุญุชูุงู|
|`AssignedPermissionId`|`Guid?`|ุฏุฑ ุตูุฑุช ููููุชุ ุดูุงุณู ุฏุณุชุฑุณ ุงุฎุชุตุงุตโุงูุชู|

---

### ๐ก๏ธ ฺฉูุชุฑูโูุง ุงููุช

- ููุท ฺฉุงุฑุจุฑ ฺฉู ุฏุณุชุฑุณ `ManagePermissions` ุฏุงุฑุฏ ูโุชูุงูุฏ ุฏุณุชุฑุณโูุง ุฏฺฏุฑ ุฑุง ุชุฎุตุต ุฏูุฏ.
    
- ฺฉุงุฑุจุฑุงู ููโุชูุงููุฏ ุจู ุฎูุฏุดุงู ูุฌูุฒูุง ุงุถุงู ุฏููุฏ (ูุงุจู ุชูุธู ุจุฑ ุงุณุงุณ ุณุงุณุช ุณุณุชู).
    

---

### ๐ ุงุฑุชุจุงุท ุจุง ูุฏูโูุง

- `Letter`
    
- `User`
    
- `LetterPermission`
    
- `LetterLog` (ุจุฑุง ุซุจุช ูุนุงูุชโูุง)