
### โ ุงุทูุงุนุงุช ูพุงู

|ูฺฺฏ|ููุฏุงุฑ|
|---|---|
|๐ฏ ูุงู ูุฒฺฉุณ|UnshareLetterWithUser|
|๐งฉ ุฏุงููู ูุฑุชุจุท|Letter, LetterPermission|
|๐ฏ ูุฏู|ุญุฐู ุฏุณุชุฑุณ ฺฉุงุฑุจุฑ ุง ฺฉุงุฑุจุฑุงู ูุดุฎุต ุงุฒ ฺฉ ูุงูู|
|๐ค ุงุณุชูุงุฏูโฺฉููุฏู|ูุฑุณุชูุฏู ูุงููุ ูุงูฺฉ ูุงููุ ุง ูุฑ ฺฉุงุฑุจุฑ ุฏุงุฑุง ูุฌูุฒ ูุฏุฑุช ุฏุณุชุฑุณโูุง|
|๐ ูพุดโูุงุฒ ุฏุณุชุฑุณ|ูุฌูุฒ ูุฏุฑุช ุณุทุญ ุฏุณุชุฑุณโูุง (Admin ุง Owner ุฑู ุขู ูุงูู)|

---

### ๐ ุชูุถุญ ฺฉู

ุงู ูุฒฺฉุณ ุจุฑุง ุฒูุงูโุณุช ฺฉู ฺฉ ูุงูู ูุจูุงู ุจุง ฺฉ ุง ฺูุฏ ฺฉุงุฑุจุฑ ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏู ู ุญุงูุง ูุงุฒ ุงุณุช ุขู ุฏุณุชุฑุณ ูุบู ุดูุฏ (ูุซูุงู ุจุนุฏ ุงุฒ ูพุงุงู ฺฉุงุฑุ ุงูุชูุงู ูุณุฆููุชุ ุง ุฎุทุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ).

---

### โ ูุฑูุฏโูุง

|ูุฑูุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`LetterId`|`Guid`|ุดูุงุณู ูุงูู ููุฑุฏูุธุฑ|
|`UserId`|`Guid`|ุดูุงุณู ฺฉุงุฑุจุฑ ฺฉู ุฏุฑุฎูุงุณุช ูุบู ุงุดุชุฑุงฺฉ ุฑุง ุฏุงุฏู|
|`TargetUserId`|`Guid`|ุดูุงุณู ฺฉุงุฑุจุฑ ฺฉู ุฏุณุชุฑุณ ุงู ุจุงุฏ ุญุฐู ุดูุฏ|

---

### ๐ฏ ุฎุฑูุฌ

|ุฎุฑูุฌ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ูุชุฌู ุนููุงุช|
|`Message`|`string`|ูพุงู ูุถุนุช (ูุซูุงู ยซุฏุณุชุฑุณ ฺฉุงุฑุจุฑ ุญุฐู ุดุฏยป)|

---

### ๐ง ููุงูู ู ุดุฑุทโูุง

- ููุท ฺฉุงุฑุจุฑุงู ูุฌุงุฒ (ูุงูฺฉ ูุงูู ุง ฺฉุณุงู ฺฉู ูุฌูุฒ ูุฏุฑุช ุฏุงุฑูุฏ) ูโุชูุงููุฏ ุฏุณุชุฑุณ ุฏฺฏุฑุงู ุฑุง ุญุฐู ฺฉููุฏ.
    
- ุญุฐู ุฏุณุชุฑุณ ูุจุงุฏ ุดุงูู ุฎูุฏู ูุงูฺฉ ูุงูู ุง ฺฉุงุฑุจุฑุงู ุจุง ุณุทุญ ุฏุณุชุฑุณ ุจุงูุงุชุฑ ุงุฒ ูุฌุฑ ุจุงุดุฏ.
    
- ุชุบุฑุงุช ุจุงุฏ ุฏุฑ `LetterPermission` ุจุง `IsRevoked = true` ู `RevokedAt` ุซุจุช ุดููุฏ (soft delete).
    

---

### ๐ง ูฺฉุงูุฒู ูพุดููุงุฏ

- ุฌุณุชุฌู ุฑฺฉูุฑุฏ ูุนุงู ุฏุฑ `LetterPermission` ุจุง `LetterId` ู `TargetUserId`.
    
- ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุช โ ููุฏุงุฑ `IsRevoked = true` ู ุซุจุช ุฒูุงู ูุบู.
    
- ุงฺฏุฑ ูุจูุฏ โ ูพุงู ููุงุณุจ (ยซุฏุณุชุฑุณ ูุนุงู ูุฌูุฏ ูุฏุงุฑุฏยป).
    

---

### ๐ ุงุฑุชุจุงุท ุจุง ุณุงุฑ ูุฒฺฉุณโูุง

- ูฺฉูู: `ShareLetterWithUser`
    
- ูุฑุชุจุท: `GetLetterPermissions`, `AuditLetterPermissionChange`