
### ๐ฏ ูุฏู:

ุญุฐู ฺฉ ูุงู ูพูุณุช ุงุฒ ูุงููโุง ุฎุงุตุ ุฏุฑ ุตูุฑุช ฺฉู ูุงูู ูููุฒ Finalized ูุดุฏู ุจุงุดุฏ.

---

### ๐งฉ ูพุดโูุงุฒูุง:

|ุดุฑุท|ุชูุถุญ|
|---|---|
|ูุงูู ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ|`LetterId` ูุนุชุจุฑ ุจุงุดุฏ|
|ูุงูู ูุจุงุฏ ููุง (Finalized) ุดุฏู ุจุงุดุฏ|`IsFinalized == false`|
|ฺฉุงุฑุจุฑ ุจุงุฏ ุฏุณุชุฑุณ ุญุฐู ูพูุณุช ุฏุงุดุชู ุจุงุดุฏ|ุจุฑุฑุณ ุงุฒ `LetterPermission`|
|ูพูุณุช ุจุงุฏ ุจู ุงู ูุงูู ูุชุนูู ุจุงุดุฏ|ุจุฑุฑุณ `Attachment.LetterId == LetterId`|

---

### ๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงูุฒุงูุ|ุชูุถุญ|
|---|---|---|---|
|`LetterId`|`Guid`|โ|ุดูุงุณู ูุงูู|
|`AttachmentId`|`Guid`|โ|ุดูุงุณู ูพูุณุช ุจุฑุง ุญุฐู|
|`RequestedByUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุชโุฏููุฏู ุญุฐู|

---

### โ๏ธ ูุฑุงุญู ุงุฌุฑุง

1. ุจุฑุฑุณ ูุฌูุฏ ูุงูู ุจุง `LetterId`
    
2. ุจุฑุฑุณ `IsFinalized == false`
    
3. ุจุฑุฑุณ ูุฌูุฏ ูพูุณุช ู ุชุนูู ุขู ุจู ูุงูู
    
4. ุจุฑุฑุณ ูุฌูุฒ ฺฉุงุฑุจุฑ ุจุฑุง ุญุฐู ูพูุณุช (`LetterPermission: DeleteAttachment`)
    
5. ุญุฐู ุฑฺฉูุฑุฏ `LetterAttachment`
    
6. (ุงุฎุชุงุฑ) ุญุฐู ูุงู ูุฒฺฉ ุงุฒ ูุถุง ุฐุฎุฑูโุณุงุฒ
    
7. ุซุจุช ุฏุฑ `LetterLog`
    

---

### ๐ค ุฎุฑูุฌ (Output)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ููููุช ุนููุงุช|
|`Errors`|`List<string>`|ูุณุช ุฎุทุงูุง ุงุญุชูุงู|

---

### ๐ก๏ธ ฺฉูุชุฑูโูุง ุงููุช

- ููุท ฺฉุงุฑุจุฑุงู ุฏุงุฑุง ูุฌูุฒ `DeleteAttachment` ุจุฑุง ุขู ูุงูู ูโุชูุงููุฏ ูพูุณุช ุญุฐู ฺฉููุฏ.
    
- ุญุฐู ูพูุณุช ุงุฒ ูุงูู Finalized ุดุฏู ูุฌุงุฒ ูุณุช.
    

---

### ๐ ุงุฑุชุจุงุท ุจุง ูุฏูโูุง

- `Letter`
    
- `LetterAttachment`
    
- `LetterPermission`
    
- (ุงุฎุชุงุฑ) `LetterLog`
    
- (ุงุฎุชุงุฑ) ูุงฺูู ูุงู