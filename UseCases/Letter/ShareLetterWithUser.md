### โ ุงุทูุงุนุงุช ูพุงู

|ูฺฺฏ|ููุฏุงุฑ|
|---|---|
|๐ฏ ูุงู ูุฒฺฉุณ|ShareLetterWithUser|
|๐งฉ ุฏุงููู ูุฑุชุจุท|Letter, LetterPermission|
|๐ฏ ูุฏู|ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉ ูุงูู ุฎุงุต ุจุง ฺฉ ุง ฺูุฏ ฺฉุงุฑุจุฑ ุฌูุช ูุดุงูุฏู ุง ุงูุฌุงู ุงูุฏุงูุงุช ุฎุงุต|
|๐ค ุงุณุชูุงุฏูโฺฉููุฏู|ูุฑุณุชูุฏู ูุงููุ ูุงูฺฉ ูุงููุ ุง ฺฉุงุฑุจุฑุงู ุฏุงุฑุง ูุฌูุฒ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ|
|๐ ูพุดโูุงุฒ ุฏุณุชุฑุณ|ฺฉุงุฑุจุฑ ุจุงุฏ ูุฌุงุฒ ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุขู ูุงูู ุจุงุดุฏ (ูุงูฺฉ ุง ุจุง ูุฌูุฒ ุฎุงุต)|

---

### ๐ ุชูุถุญ ฺฉู

ุฏุฑ ุงู ูุฒฺฉุณุ ฺฉ ฺฉุงุฑุจุฑ ูุฌุงุฒ ูโุชูุงูุฏ ูุงููโุง ุฑุง ุจุง ฺฉุงุฑุจุฑ(ูุง) ุฏฺฏุฑ ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ ู ุจุฑุง ุขูโูุง ุณุทุญ ุฏุณุชุฑุณ ูุดุฎุต ุชุนุฑู ฺฉูุฏุ ูุงููุฏ ููุท ูุดุงูุฏูุ ูุฑุงุดุ ูพุงุณุฎโุฏูุ ุง ุงุฑุฌุงุน.

---

### โ ูุฑูุฏโูุง

|ูุฑูุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`LetterId`|`Guid`|ุดูุงุณู ูุงูู ููุฑุฏูุธุฑ|
|`UserId`|`Guid`|ุดูุงุณู ฺฉุงุฑุจุฑ ฺฉู ูโุฎูุงูุฏ ูุงูู ุฑุง ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ|
|`TargetUserId(s)`|`Guid[]`|ุดูุงุณู ฺฉ ุง ฺูุฏ ฺฉุงุฑุจุฑ ููุตุฏ|
|`PermissionType`|`enum`|ููุน ุฏุณุชุฑุณ ุงุนุทุงุดุฏู (ReadOnly, ReadWrite, Reply, Forward, etc.)|
|`Note`|`string?`|ุงุฏุฏุงุดุช ุงุฎุชุงุฑ ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ|

---

### ๐ฏ ุฎุฑูุฌ

|ุฎุฑูุฌ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ูุชุฌู ุนููุงุช|
|`Message`|`string`|ูพุงู ูุชุฌู (ูุซูุงู ยซุจุง ููููุช ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏยป)|

---

### ๐ง ููุงูู ู ุดุฑุทโูุง

- ููุท ฺฉุงุฑุจุฑุงู ุฏุงุฑุง ูุฌูุฒ ูโุชูุงููุฏ ูุงููโุง ุฑุง ุจุง ุฏฺฏุฑุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑูุฏ.
    
- ูุจุงุฏ ูุงูู ุจู ฺฉุงุฑุจุฑ ฺฉู ูุจูุงู ููุงู ุฏุณุชุฑุณ ุฑุง ุฏุงุฑุฏุ ุฏูุจุงุฑู ุจุง ููุงู ุฏุณุชุฑุณ ุงุฎุชุตุงุต ุงุจุฏ (ูพุฑูุฒ ุงุฒ ุชฺฉุฑุงุฑ).
    
- ุงฺฏุฑ ุณุทุญ ุฏุณุชุฑุณ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุจุดุชุฑ ุงุฒ ูุงูฺฉ ูุนู ุจุงุดุฏุ ุจุงุฏ ุฎุทุง ุง ูุดุฏุงุฑ ุตุงุฏุฑ ุดูุฏ (ูุซูุงู ุฏุณุชุฑุณ ุจุดุชุฑ ุงุฒ ุฎูุฏ ูุฑุณุชูุฏู).
    

---

### ๐ง ูฺฉุงูุฒู ูพุดููุงุฏ

- ุฐุฎุฑู ุฏุฑ ุฌุฏูู `LetterPermission` ุจุง ููุฏูุง `LetterId`, `UserId`, `PermissionType`, `GrantedBy`, `GrantedAt`.
    
- ุงุณุชูุงุฏู ุงุฒ soft delete ุจุฑุง ูุบููุง ุจุนุฏ (`IsRevoked = true`).
    

---

### ๐ ุงุฑุชุจุงุท ุจุง ุณุงุฑ ูุฒฺฉุณโูุง

- ูฺฉูู: `RevokeLetterPermission`
    
- ูุงุจุณุชู ุจู: `CheckUserCanShareLetter`, `AuditLetterPermissionChange`