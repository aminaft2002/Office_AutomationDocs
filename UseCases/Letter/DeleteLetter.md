ุจุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ููุทู ฺฉุณุจโูฺฉุงุฑ ุฏุฑ ุงุชููุงุณูู ุงุฏุงุฑุ ุญุฐู ฺฉุงูู ูุงูู ูุนูููุงู ูุฌุงุฒ ูุณุช ูฺฏุฑ ุฏุฑ ูุถุนุช **ูพุดโููุณ**. ูุงููโูุง ุงุฑุณุงูโุดุฏู ุจุงุฏ **ุบุฑูุงุจู ุญุฐู** ุจุงุดูุฏ (ุจูโุฏูุงู ุญููู ู ุณุณุชู).

---

## ๐งพ Use Case: DeleteLetter

|ูฺฺฏ|ููุฏุงุฑ|
|---|---|
|**ุดูุงุณู**|`UC_DeleteLetter`|
|**ูุฏู**|ุญุฐู ฺฉุงูู ฺฉ ูุงูู ูพุดโููุณ ุชูุณุท ุณุงุฒูุฏู|
|**ุจุงุฒฺฏุฑุงู ุงุตู**|`CreatorUser`|
|**ูพุดโุดุฑุทโูุง**|- ูุงูู ุฏุฑ ูุถุนุช `Draft` ุจุงุดุฏ  <br>- ฺฉุงุฑุจุฑ ููุงู `CreatorUser` ูุงูู ุจุงุดุฏ|
|**ูุญุฑฺฉ**|ฺฉุงุฑุจุฑ ุฑู ุฏฺฉูู "ุญุฐู" ฺฉูฺฉ ูโฺฉูุฏ|
|**ุฌุฑุงู ุงุตู**|1. ุณุณุชู ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ูุงูู ุฏุฑ ูุถุนุช Draft ุงุณุช  <br>2. ุจุฑุฑุณ ูโุดูุฏ ฺฉุงุฑุจุฑ ุณุงุฒูุฏู ูุงูู ุงุณุช  <br>3. ุชูุงู ูพูุณุชโูุงุ ุงุฏุฏุงุดุชโูุง ู ุฏุณุชุฑุณโูุง ูุฑุชุจุท ูุฒ ุญุฐู ูโุดููุฏ  <br>4. ุฑฺฉูุฑุฏ ุงุฒ ุฏุชุงุจุณ ุญุฐู ูโุดูุฏ (Soft Delete ุง Hard Delete ุจุณุชู ุจู ุณุงุณุช ุณุณุชู)|
|**ุฌุฑุงู ุฌุงฺฏุฒูโูุง**|- ุงฺฏุฑ ูุงูู Finalized ุง ุงุฑุณุงูโุดุฏู ุจุงุดุฏุ ูพุงู ุฎุทุง ูุดุงู ุฏุงุฏู ูโุดูุฏ: `ุงูฺฉุงู ุญุฐู ูุงูู ูพุณ ุงุฒ ุงุฑุณุงู ูุฌูุฏ ูุฏุงุฑุฏ.`  <br>- ุงฺฏุฑ ฺฉุงุฑุจุฑ ุบุฑูุฌุงุฒ ุจุงุดุฏุ ูพุงู: `ุดูุง ุงุฌุงุฒู ุญุฐู ุงู ูุงูู ุฑุง ูุฏุงุฑุฏ.`|
|**ูุชุฌู ููุง**|ูุงูู ู ูุงุจุณุชฺฏโูุงุด ุงุฒ ุณุณุชู ุญุฐู ูโุดููุฏ|
|**ูพุณโุดุฑุทโูุง**|- ุฑฺฉูุฑุฏ ุฏุฑ ุตูุฑุช Hard Delete ุงุฒ DB ูพุงฺฉ ุดุฏู  <br>- ุง ุฏุฑ ุตูุฑุช Soft Deleteุ ููุฏ `IsDeleted = true` ุชูุธู ูโุดูุฏ|
|**ููุงุญุธุงุช ุงููุช**|ุญุฐู ููุท ุชูุณุท ุตุงุญุจ ุงุตู ู ุฏุฑ ูุถุนุช Draft|

---

## ๐ ูุงููู ุฏุณุชุฑุณ (Permission)

|ููุด|ุงุฌุงุฒู ุญุฐู|
|---|---|
|`Creator`|โ ููุท ุฏุฑ ุญุงูุช Draft|
|`Admin`|๐ ููุท ุงุฒ ุทุฑู ูุณุฑ ูุฏุฑุช ุฎุงุต (Audit ุง Recovery)|
|`OtherUser`|โ ูุฏุงุฑุฏ|

---

ุขุง ุจุฎูุงู ุจุฑุง `Soft Delete` ูพุงุฏูโุณุงุฒ ฺฉูู ฺฉู ุจุนุฏุงู ุจุงุฒุงุจ ุจุดูุ ุง ุญุฐู ูุงูุน ุจุงุดู (`Hard Delete`)ุ

ุจุนุฏุด ุขูุงุฏูโุงู ุจุฑู ุณุฑุงุบ Use Case ุจุนุฏ. ุจฺฏู ฺฉุฏูู ุฑู ฺฉุงุฑ ฺฉููุ

##### You said:

Soft Delete

###### ChatGPT said:

ุนุงู! ูพุณ ุจุฑุง Use Case โ`DeleteLetter` ุงุฒ **ุงูฺฏู Soft Delete** ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงู ูุฏูุ ุฑฺฉูุฑุฏ ุงุฒ ุฏุชุงุจุณ ูพุงฺฉ ููโุดูุ ุจูฺฉู ููุท ุนูุงูุชโฺฏุฐุงุฑ ูโุดู ฺฉู ุฏฺฏู ุฏุฑ ููุฑุณุชโูุง ู ุฌุณุชโูุฌููุง ููุงุด ุฏุงุฏู ูุดู. ุงู ฺฉุงุฑ ุจู ุจุงุฒุงุจุ ฺฏุฒุงุฑุดโฺฏุฑ ู ุฑุฏฺฏุฑ ูุนุงูุชโูุง ฺฉูฺฉ ูโฺฉูู.

---

## ๐ ุจุฑูุฒุฑุณุงู Use Case: DeleteLetter (ุจุง Soft Delete)

|ูฺฺฏ|ููุฏุงุฑ|
|---|---|
|**ููุน ุญุฐู**|`Soft Delete`|
|**ููุฏ ฺฉูุชุฑู**|`IsDeleted: bool = true`  <br>`DeletedAt: DateTime?`  <br>`DeletedBy: Guid?`|
|**ุชุฃุซุฑ ุฏุฑ ุณุงุฑ ุจุฎุดโูุง**|- ุฏุฑ ููู ฺฉูุฆุฑโูุง `WHERE IsDeleted = false` ูุญุงุธ ูโุดูุฏ  <br>- ุฏุฑ ูพูู ุงุฏูู ูโุชูุงู ูุงููโูุง ุญุฐูโุดุฏู ุฑุง ูุดุงูุฏู ู ุจุงุฒุงุจ ฺฉุฑุฏ|
|**ูุฒุงุง**|ูุงุจู ุจุงุฒุงุจุ ููุงุณุจ ุจุฑุง ุจุฑุฑุณ ุงููุชุ ูุงฺฏ ุจูุชุฑ|
|**ูพุดููุงุฏ ุงููุช**|ุฏุณุชุฑุณ ุจุงุฒุงุจ ููุท ุจุฑุง Adminูุง|

---

## ๐ฆ ุชุบุฑุงุช ุฏุฑ ูุฏู Letter:

csharp

CopyEdit

`public class Letter {     public bool IsDeleted { get; set; } = false;     public DateTime? DeletedAt { get; set; }     public Guid? DeletedBy { get; set; } }`

---

## ๐ ูฺฉุงุช ูพุงุฏูโุณุงุฒ

1. ุฏุฑ ููู Repositoryูุง ู Queryูุง ุจุงุฏ ุดุฑุท `!IsDeleted` ุงุถุงูู ุดูุฏ.
    
2. UI ููุงุด ุญุฐู ุจู ุตูุฑุช "ุขุง ูุทูุฆูุฏุ" ู ุณูพุณ ูุฎูโุณุงุฒ ุฏุฑ ูุณุช.
    
3. ูพูู ูุฏุฑุช ุจุฑุง ุจุงุฒุงุจ ุง ูุดุงูุฏู ุชุงุฑุฎฺู ุญุฐู ุฏุฑ ุขูุฏู ุทุฑุงุญ ุฎูุงูุฏ ุดุฏ.