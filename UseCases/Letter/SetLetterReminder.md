
### ✅ اطلاعات پایه

|ویژگی|مقدار|
|---|---|
|🎯 نام یوزکیس|SetLetterReminder|
|🧩 دامنه مرتبط|Letter, Reminder|
|🎯 هدف|تنظیم یادآور برای یک نامه خاص جهت انجام اقدام در آینده|
|👤 استفاده‌کننده|کاربر ایجادکننده یا هر کاربر دارای دسترسی به نامه|
|🔐 پیش‌نیاز دسترسی|دسترسی مشاهده یا مدیریت روی نامه مربوطه|

---

### 📝 توضیح کلی

این یوزکیس به کاربر امکان می‌دهد تا یک **یادآور شخصی** یا سیستمی برای یک نامه ثبت کند تا در زمان مشخصی، سیستم هشدار لازم را ارائه دهد (مثلاً برای پیگیری، ارسال پاسخ، ارجاع، یا بایگانی).

---

### ✅ ورودی‌ها

|ورودی|نوع|توضیح|
|---|---|---|
|`UserId`|`Guid`|شناسه کاربر ثبت‌کننده یادآور|
|`LetterId`|`Guid`|شناسه نامه مربوطه|
|`ReminderDateTime`|`DateTime`|زمان هشدار مورد نظر|
|`ReminderText`|`string`|توضیح کوتاه برای یادآور|
|`ReminderType`|`enum`|نوع یادآور: شخصی، سیستمی، گروهی|

---

### 🎯 خروجی

|خروجی|نوع|توضیح|
|---|---|---|
|`Success`|`bool`|نتیجه عملیات|
|`ReminderId`|`Guid?`|شناسه یادآور ایجادشده (در صورت موفقیت)|

---

### 🧠 قوانین و شرط‌ها

- کاربر باید دسترسی به نامه داشته باشد.
    
- زمان یادآور نمی‌تواند قبل از زمان فعلی باشد.
    
- هر کاربر می‌تواند بیش از یک یادآور روی یک نامه ثبت کند.
    
- یادآورها در جدول `LetterReminder` یا بخشی از جدول مشترک `Reminder` ذخیره می‌شوند.
    

---

### 🔔 عملکرد سیستم

در زمان رسیدن به `ReminderDateTime`:

- اگر **یادآور شخصی** باشد → نوتیفیکیشن اختصاصی برای همان کاربر.
    
- اگر **یادآور سیستمی** یا گروهی باشد → ارسال هشدار به چند کاربر یا نوتیف عمومی داخل سیستم.
    

---

### 🔗 ارتباط با سایر یوزکیس‌ها

- مکمل: `EditReminder`, `DeleteReminder`, `NotifyUsersOnLetter`, `MarkLetterAsFollowUp`
    
- وابسته به: `CheckUserPermission`