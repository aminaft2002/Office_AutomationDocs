
### ๐ฏ ูุฏู:

ุซุจุช ฺฉูู ุนููุงุชโูุง ฺฉุงุฑุจุฑ ุฑู ูุงููโูุง (ูุซู ุงุฌุงุฏุ ูุฑุงุดุ ุญุฐูุ ุงุฑุณุงูุ ุงุฑุฌุงุนุ ูุดุงูุฏูุ ุจุงุฒุงุจุ ุจุงฺฏุงู ู...) ุฏุฑ ุฌุฏูู `LetterLog` ุจุฑุง ููุงุตุฏ ูพฺฏุฑุ ฺฏุฒุงุฑุดโฺฏุฑุ ู audit trail.

---

### ๐งฉ ูพุดโูุงุฒูุง:

|ุดุฑุท|ุชูุถุญ|
|---|---|
|ุนููุงุช ุจุงุฏ ุฑู ูุงููโุง ูุนุชุจุฑ ุงูุฌุงู ุดุฏู ุจุงุดุฏ|ุจุฑุฑุณ ูุฌูุฏ `LetterId` ุงูุฒุงู ุงุณุช|
|ุนููุงุช ุจุงุฏ ุดูุงุฎุชูโุดุฏู ุจุงุดุฏ|ุจุฑุฑุณ ูุนุชุจุฑ ุจูุฏู `ActionType`|

---

### ๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงูุฒุงูุ|ุชูุถุญ|
|---|---|---|---|
|`LetterId`|`Guid`|โ|ูุงููโุง ฺฉู ุนููุงุช ุฑู ุขู ุงูุฌุงู ุดุฏู|
|`ActionType`|`enum`|โ|ููุน ุนูู ุงูุฌุงูโุดุฏู (Create, Edit, Delete, Restore, Forward, etc.)|
|`PerformedByUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ฺฉู ุนููุงุช ุฑุง ุงูุฌุงู ุฏุงุฏู|
|`PerformedAt`|`DateTime`|โ|ุงฺฏุฑ ุฏุงุฏู ูุดูุฏุ ุฒูุงู ูุนู ุซุจุช ูโุดูุฏ|
|`Metadata`|`string?`|โ|ุชูุถุญุงุช ุงุถุงู ุง ุฏุงุฏูโูุง ุฎุงุต ุนููุงุช|
|`IpAddress`|`string?`|โ|ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุซุจุช IP|

---

### โ๏ธ ูุฑุงุญู ุงุฌุฑุง

1. ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
    
2. ุณุงุฎุช ฺฉ ุฑฺฉูุฑุฏ `LetterLog`
    
3. ุฐุฎุฑู ุฏุฑ ุฏุชุงุจุณ
    
4. ุจุงุฒฺฏุดุช ููููุช ุง ุฎุทุง
    

---

### ๐ค ุฎุฑูุฌ (Output)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ูุชุฌู ููููุชโุขูุฒ ุจูุฏู ุนููุงุช|
|`Message`|`string`|ูพุงู ุฎุฑูุฌ|
|`LoggedActionId`|`Guid`|ุดูุงุณู ูุงฺฏ ุซุจุชโุดุฏู|

---

### ๐งฑ ูุฏู `LetterLog`

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Id`|`Guid`|ุดูุงุณู ูุงฺฏ|
|`LetterId`|`Guid`|ูุงูู ูุฑุชุจุท|
|`ActionType`|`enum`|ููุน ุนููุงุช (ุงุฒ ูพุด ุชุนุฑูโุดุฏู)|
|`PerformedByUserId`|`Guid`|ฺฉุงุฑุจุฑ ุงุฌุฑุงฺฉููุฏู|
|`PerformedAt`|`DateTime`|ุฒูุงู ุงุฌุฑุง|
|`Metadata`|`string?`|ุงุทูุงุนุงุช ุงุถุงูู|
|`IpAddress`|`string?`|IP ฺฉุงุฑุจุฑ (ุฏุฑ ุตูุฑุช ูุฌูุฏ)|

---

### ๐ Enum ูพุดููุงุฏ ุจุฑุง `ActionType`:

enum LetterActionType {
  Created,
  Edited,
  Deleted,
  Restored,
  Sent,
  Forwarded,
  Replied,
  Viewed,
  Archived,
  Unarchived,
  Commented,
  PermissionAssigned,
  PermissionRevoked,
  TagAdded,
  TagRemoved,
  AttachmentAdded,
  AttachmentRemoved
}


### ๐ ูฺฉุงุช ุงููุช:

- ุงู Use Case ุชูุณุท ุณุณุชู ู ุฏุฑูู ุณุงุฑ Use Caseูุง ูุฑุงุฎูุงู ูโุดูุฏ.
    
- ฺฉุงุฑุจุฑ ูุณุชูู ุขู ุฑุง ุงุฌุฑุง ููโฺฉูุฏุ ุจูฺฉู ุฏุฑ ุงูุชูุง ูุฑ ุนููุงุช ุฑู ูุงููโูุง ุซุจุช ูโุดูุฏ.