

|بخش|توضیح|
|---|---|
|🎯 **هدف**|حذف یادداشت خصوصی کاربر از روی نامه، بدون حذف کامل از دیتابیس|
|👤 **نقش‌های مجاز**|فقط کاربری که یادداشت را ثبت کرده|
|📥 **ورودی‌ها**|`NoteId`, `UserId` (از توکن)|
|📤 **خروجی‌ها**|پیام موفقیت یا خطا|
|🔄 **مراحل اجرای یوزکیس**||
|1️⃣|دریافت `NoteId` و `UserId`|
|2️⃣|واکشی یادداشت و بررسی مالکیت توسط `UserId`|
|3️⃣|مقداردهی `IsDeleted = true` و ثبت `DeletedAt = DateTime.UtcNow`|
|4️⃣|ذخیره تغییرات در دیتابیس|
|⚠️ **پیش‌شرط‌ها**|یادداشت باید وجود داشته باشد و متعلق به کاربر فعلی باشد|
|🔐 **ملاحظات امنیتی**|فقط مالک یادداشت مجاز به حذف است؛ حذف فیزیکی انجام نمی‌شود|
|📚 **موجودیت‌های مرتبط**|`LetterNote`, `User`, `Letter`|
|🧩 **نکات پیاده‌سازی**||
|- فیلد `IsDeleted: bool` و `DeletedAt: DateTime?` باید در مدل `LetterNote` وجود داشته باشد||
|- در کوئری‌ها و نمایش‌ها، یادداشت‌های `IsDeleted = true` فیلتر شوند||
|- حذف دائمی فقط در صورت پاک‌سازی دستی سیستم یا سیاست retention انجام شود||