

### ๐ฏ ูุฏู:

ุงุทูุงุนโุฑุณุงู ุฎูุฏฺฉุงุฑ ุจู ฺฉุงุฑุจุฑุงู ูุฑุชุจุท ุจุง ฺฉ ูุงููุ ููฺฏุงู ูููุน ุฑูุฏุงุฏูุง ูุงููุฏ: ุงุฑุฌุงุนุ ูพุงุณุฎุ ูุฑุงุดุ ุงุฑุณุงูุ ุง ูุฑ ุฑูุฏุงุฏ ููู ุฏฺฏุฑ.

---

### โ ููุงุฑุฏ ุงุณุชูุงุฏู (Use Scenarios)

|ุณูุงุฑู|ุชูุถุญ|
|---|---|
|ูุงููโุง ุงุฑุฌุงุน ุฏุงุฏู ูโุดูุฏ|ฺฏุฑูุฏู ุฌุฏุฏ ุจุงุฏ ุงุนูุงู ุฏุฑุงูุช ฺฉูุฏ|
|ูพุงุณุฎ ุจู ูุงูู ุฏุงุฏู ูโุดูุฏ|ูุฑุณุชูุฏู ุง ูุงุญุฏ ุงููู ุจุงุฏ ูุทูุน ุดูุฏ|
|ูุงููโุง ูุฑุงุด ูโุดูุฏ|ุฏุฑ ุตูุฑุช ุชุบุฑ ูุถุนุชุ ฺฏุฑูุฏู ุฌุฏุฏ ุง ูุณุฆูู ูพฺฏุฑ ุจุงุฏ ุงุนูุงู ุฏุฑุงูุช ฺฉูุฏ|
|ูุงููโุง ุจุฑุง ุดูุง ุงุฑุณุงู ุดุฏู|ฺฉุงุฑุจุฑุงู ูุฑุชุจุท ุจุงุฏ ูุดุฏุงุฑ ุจฺฏุฑูุฏ|

---

### ๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงูุฒุงูุ|ุชูุถุญ|
|---|---|---|---|
|`LetterId`|`Guid`|โ|ูุงููโุง ฺฉู ุจุฑุง ุขู ุงุนูุงู ุงุฑุณุงู ูโุดูุฏ|
|`TriggeredByUserId`|`Guid`|โ|ฺฉุงุฑุจุฑ ฺฉู ุจุงุนุซ ุฑูุฏุงุฏ ุดุฏู|
|`NotificationType`|`enum`|โ|ููุน ุงุนูุงู (ุงุฑุฌุงุนุ ูพุงุณุฎุ ุงุฑุณุงู...)|
|`TargetUserIds`|`List<Guid>`|โ|ูุณุช ฺฉุงุฑุจุฑุงู ฺฉู ุจุงุฏ ุงุนูุงู ุฏุฑุงูุช ฺฉููุฏ|
|`Message`|`string`|โ|ูุญุชูุง ุงุนูุงู ุง ุชูุถุญ|
|`Url`|`string?`|โ|ููฺฉ ูุณุชูู ุจู ูุงูู ุฏุฑ UI ุจุฑุง ูุฏุงุช ุณุฑุน|
|`CreatedAt`|`DateTime`|โ|ุฏุฑ ุตูุฑุช ุนุฏู ุงุฑุณุงูุ ุฒูุงู ูุนู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ|

---

### โ๏ธ ูุฑุงุญู ุงุฌุฑุง

1. ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง ู `LetterId`
    
2. ุณุงุฎุช ฺูุฏ ุฑฺฉูุฑุฏ `LetterNotification` ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
    
3. ุซุจุช ุฑฺฉูุฑุฏูุง ุฏุฑ ุฏุชุงุจุณ
    
4. ุงูุชุดุงุฑ ุงุนูุงูโูุง ุจู ุณุณุชู ุงุนูุงู (ูุซูุงู WebSocket ุง Email ุง Push Notification)
    

---

### ๐ค ุฎุฑูุฌ (Output)

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Success`|`bool`|ูุชุฌู ุนููุงุช|
|`NotificationIds`|`List<Guid>`|ูุณุช ุดูุงุณู ุงุนูุงูโูุง ุซุจุชโุดุฏู|
|`Message`|`string`|ูพุงู ุฎุฑูุฌ ููููุช ุง ุฎุทุง|

---

### ๐ฆ ูุฏู `LetterNotification`

|ููุฏ|ููุน|ุชูุถุญ|
|---|---|---|
|`Id`|`Guid`|ุดูุงุณู ฺฉุชุง|
|`LetterId`|`Guid`|ูุงูู ูุฑุจูุทู|
|`UserId`|`Guid`|ฺฉุงุฑุจุฑ ฺฉู ุจุงุฏ ุงุนูุงู ุจฺฏุฑุฏ|
|`NotificationType`|`enum`|ููุน ุงุนูุงู|
|`Message`|`string`|ูพุงู ูุงุจู ููุงุด|
|`Url`|`string?`|ููฺฉ ูุณุชูู ุจู ูุงูู|
|`IsRead`|`bool`|ูุถุนุช ุฎูุงูุฏู ุดุฏู|
|`CreatedAt`|`DateTime`|ุฒูุงู ุซุจุช ุงุนูุงู|

---

### ๐ Enum: `NotificationType`

csharp



enum LetterNotificationType {
  Sent,
  Forwarded,
  Replied,
  Referred,
  Commented,
  Edited,
  Archived,
  PermissionAssigned,
  TagAdded
}


---

### ๐ ูฺฉุงุช ููู:

- ุจุงุฏ ุงุฒ ุชฺฉุฑุงุฑ ุงุนูุงู ุจุฑุง ฺฉ ฺฉุงุฑุจุฑ ุฌููฺฏุฑ ุดูุฏ (ูุซูุงู ุงฺฏุฑ ูุงููโุง ฺูุฏ ุจุงุฑ ุงุฑุฌุงุน ุดูุฏ ุฏุฑ ุฒูุงู ฺฉูุชุงูุ ููุท ฺฉ ุงุนูุงู ุซุจุช ุดูุฏ).
    
- ุณุณุชู ุจุงุฏ ูุงุจูุช ุบุฑูุนุงูโุณุงุฒ ุงุนูุงูโูุง ุง ุชุบุฑ ููุน ุขูโูุง ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ุขูุฏู ุฏุงุดุชู ุจุงุดุฏ (ุงุฎุชุงุฑ).