

|ุฌุฒุฆุงุช|ููุฏุงุฑ|
|---|---|
|**ูุงู ูุฒฺฉุณ**|RegisterLetter|
|**ูุฏู**|ุซุจุช ฺฉ ูุงูู ุฌุฏุฏ ุจูโุตูุฑุช ูพุดโููุณ ุง ููุง ุฏุฑ ุณุณุชู|
|**Actors**|ฺฉุงุฑุจุฑ ุงุฌุงุฏฺฉููุฏู ูุงูู (CreatorUser)|
|**ูพุดโูุงุฒ**|ฺฉุงุฑุจุฑ ุงุญุฑุงุฒ ููุช ุดุฏู ุจุงุดุฏ|
|**ูุชุฌู ูููู**|ฺฉ ุฑฺฉูุฑุฏ ุฌุฏุฏ ุฏุฑ `Letter` ุงุฌุงุฏ ูโุดูุฏ|
|**ูุชุฌู ูุงูููู**|ุงุฑูุฑ ุงุนุชุจุงุฑุณูุฌ ุง ุฎุทุง ุฏุณุชุฑุณ|


๐ฅ ูุฑูุฏโูุง (Input)

|ููุฏ|ููุน|ุงุฌุจุงุฑุ|ุชูุถุญ|
|---|---|---|---|
|`Subject`|`string`|โ|ุนููุงู ูุงูู|
|`Body`|`string`|โ|ูุชู ุงุตู ูุงูู|
|`LetterType`|`enum`|โ|ููุน ูุงูู (ุฏุงุฎูุ ุตุงุฏุฑูุ ูุงุฑุฏู)|
|`Priority`|`enum`|โฌ|ุนุงุฏ / ููุฑ / ุฎู ููุฑ|
|`Confidentiality`|`enum`|โฌ|ุนุงุฏ / ูุญุฑูุงูู / ุฎู ูุญุฑูุงูู|
|`ReceiverUserId`|`Guid`|โฌ|ฺฉุงุฑุจุฑ ฺฏุฑูุฏู (ุฏุฑ ุตูุฑุช ูุงุฒ)|
|`SenderUnitId`|`Guid`|โ|ูุงุญุฏ ุงุฑุณุงูโฺฉููุฏู|
|`LetterDate`|`DateTime`|โฌ|ุชุงุฑุฎ ุฑุณู ุฏุฑุฌโุดุฏู ุฏุฑ ูุงูู|
|`IsFinalized`|`bool`|โ|ุขุง ูุงูู ุจูโุตูุฑุช ููุง ุฐุฎุฑู ุดูุฏุ|
|`Tags`|`List<Guid>`|โฌ|ุจุฑฺุณุจโูุง ุงูุชุฎุงุจ|
|`Attachments`|`List<File>`|โฌ|ูุงูโูุง ูพูุณุช|
|`ResponseToLetterId`|`Guid?`|โฌ|ุฏุฑ ุตูุฑุช ูพุงุณุฎ ุจู ูุงููโุง ุฏฺฏุฑ|

## โ ูุฑุงุญู ููุทู Use Case

1. ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑ ุจุฑุฑุณ ูโุดูุฏ.
    
2. ูุฑูุฏโูุง ุงุนุชุจุงุฑุณูุฌ ูโุดููุฏ.
    
3. ุฑฺฉูุฑุฏ `Letter` ุฌุฏุฏ ุณุงุฎุชู ูโุดูุฏ:
    
    - `CreatorUserId = currentUser.Id`
        
    - `CreatedAt = now`
        
4. ุงฺฏุฑ `IsFinalized == true`:
    
    - ูุถุนุช ูุงูู ุจู `Sent` ุชูุธู ูโุดูุฏ.
        
    - ุดูุงุฑู ูุงูู ุชููุฏ ูโุดูุฏ (ุงูฺฏูุฑุชู `LetterNumberGenerator`)
        
5. ุงฺฏุฑ `Tags` ุฏุงุฏู ุดุฏู:
    
    - ุฑฺฉูุฑุฏูุง ูุฑุจูุท ุฏุฑ `LetterTagAssignment` ุงุฌุงุฏ ูโุดููุฏ.
        
6. ุงฺฏุฑ `Attachments` ุฏุงุฏู ุดุฏู:
    
    - ูุงูโูุง ุฐุฎุฑู ู ุจู `LetterAttachment` ูุชุตู ูโุดููุฏ.
        
7. ุฑฺฉูุฑุฏ `LetterLog` ุจุง ุนููุงู โูุงูู ุงุฌุงุฏ ุดุฏโ ุซุจุช ูโุดูุฏ.
    
8. ุฏุฑ ุตูุฑุช `IsFinalized == true`ุ `Notification` ุจู ฺฏุฑูุฏู ุงุฑุณุงู ูโุดูุฏ.
    

---

## โ๏ธ ูฺฉุงุช ุงููุช

- ููุท ฺฉุงุฑุจุฑุงู ุฏุงุฑุง **ุณุทุญ ุฏุณุชุฑุณ ุณุงุฎุช ูุงูู** ูโุชูุงููุฏ ุงุฒ ุงู ูุฒฺฉุณ ุงุณุชูุงุฏู ฺฉููุฏ.
    
- ุฏุฑ ุตูุฑุช `IsConfidential == true`ุ ุฏุณุชุฑุณ ูพุดโูุฑุถ ุจู ูุงูู ูุญุฏูุฏ ูโุดูุฏ.