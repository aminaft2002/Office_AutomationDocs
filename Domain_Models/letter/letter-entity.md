

# ๐ Entity: Letter (ูุงูู)

## ๐ฏ ูุฏู
ูุฏู `Letter` ููุงูุฏู ฺฉ ูุงููโ ุฑุณู ุง ุฏุงุฎู ุฏุฑ ุณุงูุงูู ุงุชููุงุณูู ุงุฏุงุฑ ุงุณุช. ุงู ููุฌูุฏุช ุดุงูู ุงุทูุงุนุงุช ฺฉู ูุงููุ ูุฑุณุชูุฏู ู ฺฏุฑูุฏูุ ูุญุชูุงุ ูุถุนุช ู ูพูุณุชโูุง ูโุจุงุดุฏ.

|ููุฏ|ููุน ุฏุงุฏู|ุชูุถุญ|
|---|---|---|
|`Id`|`Guid`|ุดูุงุณู ฺฉุชุง|
|`LetterNumber`|`string`|ุดูุงุฑู ูุงูู (ูโุชูุงูุฏ ุฏุณุช ุง ุฎูุฏฺฉุงุฑ ุจุงุดุฏ)|
|`Subject`|`string`|ุนููุงู ูุงูู|
|`Body`|`string` (Text)|ูุชู ฺฉุงูู ูุงูู|
|`SenderUserId`|`Guid?`|ฺฉุงุฑุจุฑ ฺฉู ูุงูู ุฑุง ูุฑุณุชุงุฏู (ุฏุฑ ุตูุฑุช ูุงุฒ)|
|`SenderUnitId`|`Guid?`|ูุงุญุฏ ฺฉู ูุงูู ุงุฒ ุขู ุงุฑุณุงู ุดุฏู|
|`LetterType`|`enum`|ููุน ูุงูู: ุฏุฑุงูุชุ ุงุฑุณุงูุ ูพุดโููุณุ ุฏุงุฎูุ ุงุฑุฌุงุน|
|`Priority`|`enum`|ุนุงุฏุ ููุฑุ ุฎู ููุฑ|
|`Confidentiality`|`enum`|ุนุงุฏุ ูุญุฑูุงููุ ุฎู ูุญุฑูุงูู|
|`Status`|`enum`|ูพุดโููุณุ ุงุฑุณุงูโุดุฏูุ ุฎูุงูุฏูโุดุฏูุ ุขุฑุดู ุดุฏู|
|`RegistrationDate`|`DateTime`|ุชุงุฑุฎ ุซุจุช ูุงูู ุฏุฑ ุณุณุชู|
|`LetterDate`|`DateTime?`|ุชุงุฑุฎ ุฏุฑุฌโุดุฏู ุฏุฑ ุฎูุฏ ูุงูู|
|`IsFinalized`|`bool`|ุขุง ูุงูู ููุง ุดุฏูุ (ุบุฑุจุฑฺฏุดุชโูพุฐุฑ)|
|`CreatorUserId`|`Guid`|ฺฉุงุฑุจุฑ ุงุฌุงุฏฺฉููุฏู|
|`CreatedAt`|`DateTime`|ุฒูุงู ุงุฌุงุฏ|
|`UpdatedAt`|`DateTime?`|ุฒูุงู ุขุฎุฑู ูุฑุงุด|

| ุงุฑุชุจุงุท                                        | ุชูุถุญ |
| --------------------------------------------- | ----- |
| `Letter โ User` (SenderUserId, CreatorUserId) |       |
| `Letter โ Unit` (SenderUnitId)                |       |
| `Letter โ Letter-attachment` (1:N)            |       |
| `Letter โ Letter-routing` (1:N)               |       |
| `Letter โ Letter-tag` (M:N)                   |       |
| `Letter โ Letter-permission` (M:N)            |       |
|                                               |       |

|ูฺฺฏ|ุชูุถุญ|
|---|---|
|`DigitalSignature`|ุงูุถุง ุฏุฌุชุงู ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ููุง|
|`LetterTemplateId`|ุฏุฑ ุตูุฑุช ุณุงุฎุช ุงุฒ ฺฉ ุงูฺฏู ูุงูู|
|`ResponseToLetterId`|ุดูุงุณู ูุงููโุง ฺฉู ุงู ูุงูู ูพุงุณุฎ ุขู ุงุณุช|
|`ExternalLetterNumber`|ุดูุงุฑู ูุงููโุง ุงุฒ ุณุงุฒูุงูโูุง ุจุฑูู|
|`RelatedProjectId`|ุงุชุตุงู ูุงูู ุจู ูพุฑูฺู ุง ูพุฑููุฏู ุฎุงุต|

---

## ๐งฑ ููุฏูุง ุงุตู

| ููุฏ | ููุน | ุชูุถุญ |
|------|-----|-------|
| `Id` | `Guid` | ุดูุงุณู ฺฉุชุง |
| `LetterNumber` | `string` | ุดูุงุฑู ูุงูู (ุณุณุชู ุง ุฏุณุช) |
| `Type` | `LetterType` | ููุน ูุงูู: ุฏุงุฎูุ ูุงุฑุฏูุ ุตุงุฏุฑู |
| `Subject` | `string` | ููุถูุน ูุงูู |
| `Body` | `string` | ูุชู ุงุตู ูุงูู |
| `SenderName` | `string` | ูุงู ูุฑุณุชูุฏู (ุฏุฑ ูุงูู ุตุงุฏุฑู ุง ุฏุงุฎู) |
| `SenderOrg` | `string` | ุณุงุฒูุงู ูุฑุณุชูุฏู |
| `ReceiverName` | `string` | ูุงู ฺฏุฑูุฏู (ุจุฑุง ูุงุฑุฏู ุง ุฏุงุฎู) |
| `ReceiverOrg` | `string` | ุณุงุฒูุงู ฺฏุฑูุฏู |
| `LetterDate` | `DateTime` | ุชุงุฑุฎ ูุงูู ุฑุณู |
| `RegisterDate` | `DateTime` | ุชุงุฑุฎ ุซุจุช ุฏุฑ ุณุณุชู |
| `IsConfidential` | `bool` | ุขุง ูุญุฑูุงูู ุงุณุชุ |
| `Status` | `LetterStatus` | ูุถุนุช ูุนู ูุงูู |
| `Notes` | `string` | ุชูุถุญุงุช ุฏุงุฎู ุง ุชูุถุญ ุซุจุชโฺฉููุฏู |




  // ๐ ุฑูุงุจุท (Foreign Keys / Associations)
  createdBy: User
  organization-unit: Organization-unit
  status: Letter-Status
  priority: Letter-Priority
  type: Letter-Type

  // ๐ ุฑูุงุจุท ฺูุฏฺฏุงูู
  attachments: Letter-Attachment[]
  permissions: Letter-Permission[]
  routings: Letter-Routing[]
}


---

## ๐ ุฑูุงุจุท (ุฏุฑ ุณุงุฑ ูุงูโูุง ุชุนุฑู ูโุดููุฏ)

- `Attachments`: ูุณุช ูุงูโูุง ูพูุณุชโุดุฏู โ [letter-attachment.md](letter-attachment.md)
- `Routing`: ูุณุฑูุง ุงุฑุฌุงุน โ [letter-routing.md](letter-routing.md)
- `Permissions`: ุฏุณุชุฑุณโูุง ูุฑุชุจุท โ [letter-permission.md](letter-permission.md)

---
## ๐งฉ ูฺฉุงุช ุทุฑุงุญ

- `LetterNumber` ููฺฉู ุงุณุช ุจูโุตูุฑุช ุงุชููุงุชฺฉ ู ุจุฑ ุงุณุงุณ ุงูฺฏู ุฎุงุต (ูุซู ุชุงุฑุฎ+ุณุฑุงู) ุชููุฏ ุดูุฏ.
    
- `IsConfidential == true` ุจุงุนุซ ูุญุฏูุฏ ุดุฏู ุฏุณุชุฑุณ ุจู ูุงูู ูโุดูุฏ.
    
- ุชุงุฑุฎ ุฑุณู (`LetterDate`) ุจุง ุชุงุฑุฎ ุซุจุช ุฏุฑ ุณุณุชู (`RegisterDate`) ููฺฉู ุงุณุช ูุชูุงูุช ุจุงุดุฏ.
## ๐ธ Enums ููุฑุฏ ูุงุฒ:

```csharp
enum LetterType {
  Internal,
  Incoming,
  Outgoing
}

enum LetterStatus {
  Draft,
  InProgress,
  Referred,
  Responded,
  Closed
}





