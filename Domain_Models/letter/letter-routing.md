
# 🔁 Entity: LetterRouting (گردش نامه)

## 🎯 هدف
مدل `LetterRouting` ثبت می‌کند که یک نامه در چه تاریخی، توسط چه کسی، به چه شخص دیگری ارجاع داده شده و وضعیت آن در مسیر گردش چگونه بوده است.

---

## 🧱 فیلدهای اصلی

| فیلد | نوع | توضیح |
|------|-----|--------|
| `Id` | `Guid` | شناسه یکتا |
| `LetterId` | `Guid` | شناسه نامه مربوطه (ارتباط با `Letter`) |
| `FromUserId` | `Guid` | شناسه کاربر فرستنده ارجاع |
| `ToUserId` | `Guid` | شناسه کاربر گیرنده ارجاع |
| `SentAt` | `DateTime` | تاریخ ارسال ارجاع |
| `ReadAt` | `DateTime?` | تاریخ خوانده شدن نامه (nullable) |
| `Note` | `string` | توضیح ارجاع‌دهنده برای گیرنده |
| `Priority` | `int` | اولویت ارجاع (۱ بالا، ۲ متوسط، ۳ پایین) |
| `Status` | `RoutingStatus` | وضعیت ارجاع (در انتظار، خوانده شده، پاسخ داده شده و...) |

---

## 📌 نکات طراحی

- اگر `ReadAt` مقدار داشته باشد، یعنی گیرنده نامه را دیده است.
    
- هر `Letter` می‌تواند دارای چندین `LetterRouting` باشد (لیست مسیرها)
    
- در نامه‌های محرمانه، ممکن است `FromUserId` مخفی نمایش داده شود
## 🔸 Enum مورد نیاز:

```csharp
enum RoutingStatus {
  Pending,
  Read,
  Responded,
  Forwarded
}
