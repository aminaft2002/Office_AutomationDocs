
# ๐ Entity: LetterRouting (ฺฏุฑุฏุด ูุงูู)

## ๐ฏ ูุฏู
ูุฏู `LetterRouting` ุซุจุช ูโฺฉูุฏ ฺฉู ฺฉ ูุงูู ุฏุฑ ฺู ุชุงุฑุฎุ ุชูุณุท ฺู ฺฉุณุ ุจู ฺู ุดุฎุต ุฏฺฏุฑ ุงุฑุฌุงุน ุฏุงุฏู ุดุฏู ู ูุถุนุช ุขู ุฏุฑ ูุณุฑ ฺฏุฑุฏุด ฺฺฏููู ุจูุฏู ุงุณุช.

---

## ๐งฑ ููุฏูุง ุงุตู

| ููุฏ | ููุน | ุชูุถุญ |
|------|-----|--------|
| `Id` | `Guid` | ุดูุงุณู ฺฉุชุง |
| `LetterId` | `Guid` | ุดูุงุณู ูุงูู ูุฑุจูุทู (ุงุฑุชุจุงุท ุจุง `Letter`) |
| `FromUserId` | `Guid` | ุดูุงุณู ฺฉุงุฑุจุฑ ูุฑุณุชูุฏู ุงุฑุฌุงุน |
| `ToUserId` | `Guid` | ุดูุงุณู ฺฉุงุฑุจุฑ ฺฏุฑูุฏู ุงุฑุฌุงุน |
| `SentAt` | `DateTime` | ุชุงุฑุฎ ุงุฑุณุงู ุงุฑุฌุงุน |
| `ReadAt` | `DateTime?` | ุชุงุฑุฎ ุฎูุงูุฏู ุดุฏู ูุงูู (nullable) |
| `Note` | `string` | ุชูุถุญ ุงุฑุฌุงุนโุฏููุฏู ุจุฑุง ฺฏุฑูุฏู |
| `Priority` | `int` | ุงูููุช ุงุฑุฌุงุน (ฑ ุจุงูุงุ ฒ ูุชูุณุทุ ณ ูพุงู) |
| `Status` | `RoutingStatus` | ูุถุนุช ุงุฑุฌุงุน (ุฏุฑ ุงูุชุธุงุฑุ ุฎูุงูุฏู ุดุฏูุ ูพุงุณุฎ ุฏุงุฏู ุดุฏู ู...) |


|ุฑุงุจุทู|ููุน ุงุฑุชุจุงุท|ุชูุถุญ|
|---|---|---|
|`LetterRouting โ Letter`|Many-to-One|ุงุฑุฌุงุน ูุฑุจูุท ุจู ฺฉุฏุงู ูุงูู ุงุณุช|
|`LetterRouting โ FromUser`|Many-to-One|ฺฉุงุฑุจุฑ ฺฉู ูุงูู ุฑุง ุงุฑุฌุงุน ุฏุงุฏู|
|`LetterRouting โ ToUser`|Many-to-One|ฺฉุงุฑุจุฑ ฺฉู ูุงูู ุจู ุงู ุงุฑุฌุงุน ุดุฏู|
|`LetterRouting โ FromUnit`|Many-to-One|ูุงุญุฏ ุงุฑุฌุงุนโุฏููุฏู|
|`LetterRouting โ ToUnit`|Many-to-One|ูุงุญุฏ ุงุฑุฌุงุนโุดููุฏู|
|`LetterRouting โ ActionType`|Enum|ููุน ุงุฑุฌุงุน (ุงุฑุฌุงุน ุจุฑุง ุงูุฏุงูุ ุงุทูุงุนุ ุจุงฺฏุงู ู...)|
|`LetterRouting โ Status`|Enum|ูุถุนุช ุงุฑุฌุงุน (ุฏุฑ ุงูุชุธุงุฑุ ุงูุฌุงู ุดุฏูุ ุฑุฏ ุดุฏู)|
|`LetterRouting โ ParentRouting`|Optional Self-Reference|ุงฺฏุฑ ุงุฑุฌุงุน ุฏุฑ ูพุงุณุฎ ุจู ุงุฑุฌุงุน ูุจู ุงูุฌุงู ุดุฏู ุจุงุดุฏ|




|ุฑุงุจุทู|ููุน ุงุฑุชุจุงุท|ุชูุถุญ|
|---|---|---|
|`LetterRouting โ Letter`|Many-to-One|ูุฑุจูุท ุจู ฺฉุฏุงู ูุงูู|
|`LetterRouting โ User`|Many-to-One|ูุฑุณุชูุฏู ู ฺฏุฑูุฏู (User)|
|`LetterRouting โ Unit`|Many-to-One|ูุฑุณุชูุฏู ู ฺฏุฑูุฏู (Unit)|
|`LetterRouting โ User`|Many-to-One|ฺฉุงุฑุจุฑ ุงุฌุงุฏฺฉููุฏู|



---
## ๐ฆ ูุงุจุณุชฺฏโูุง ุงุตู

- `User` โ ุจุฑุง `FromUserId`, `ToUserId`
    
- `Unit` โ ุจุฑุง `FromUnitId`, `ToUnitId`
    
- `Letter` โ ุจุฑุง `LetterId`
    
- `RoutingStatus` โ ูุถุนุช ุงุฑุฌุงุน
    
- `RoutingAction` โ ููุน ุงูุฏุงู ููุฑุฏ ุงูุชุธุงุฑ
    

---

## ๐ง ูฺฉุงุช ููู ุทุฑุงุญ

- **Self-Reference** ุจุฑุง ุงูฺฉุงู ุงุฌุงุฏ ุฒูุฌุฑู ุงุฑุฌุงุนุงุช.
    
- **ุฒูุงู ูพุงุณุฎโุฏูุ ฺฉุงููุช ู ููุฑ ูุดุงูุฏู** ุฏุฑ ููุฏูุง ููุฌูุฏ ุฏุฑ ูุฏู ูพุงู (ุฏุฑ ุฏุงูู) ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู ุงุณุช.
    
- ููุท ฺฉ ุงุฒ ุงุฑุฌุงุนุงุช ูโุชูุงูุฏ ุจู ุนููุงู **ุงุฑุฌุงุน ููุงโฺฉููุฏู (IsFinal)** ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ.
## ๐ ูฺฉุงุช ุทุฑุงุญ

- ุงฺฏุฑ `ReadAt` ููุฏุงุฑ ุฏุงุดุชู ุจุงุดุฏุ ุนู ฺฏุฑูุฏู ูุงูู ุฑุง ุฏุฏู ุงุณุช.
    
- ูุฑ `Letter` ูโุชูุงูุฏ ุฏุงุฑุง ฺูุฏู `LetterRouting` ุจุงุดุฏ (ูุณุช ูุณุฑูุง)
    
- ุฏุฑ ูุงููโูุง ูุญุฑูุงููุ ููฺฉู ุงุณุช `FromUserId` ูุฎู ููุงุด ุฏุงุฏู ุดูุฏ
## ๐ธ Enum ููุฑุฏ ูุงุฒ:

```csharp
enum RoutingStatus {
  Pending,
  Read,
  Responded,
  Forwarded
}
