# 🎭 Entity: Role (نقش کاربران در سیستم)

## 🎯 هدف
تعریف نقش‌ها (Roles) برای تخصیص سطوح مختلف دسترسی و عملکرد در سیستم. نقش‌ها تعیین می‌کنند که کاربر به چه بخش‌هایی از سیستم دسترسی داشته باشد و چه عملیاتی انجام دهد.

---

## 🧱 فیلدهای اصلی

| فیلد | نوع | توضیح |
|------|------|--------|
| `Id` | `Guid` | شناسه یکتا |
| `Name` | `string` | عنوان نقش (مثلاً: مدیر سیستم، کاربر دبیرخانه) |
| `Code` | `string` | کد یونیک برای شناسایی در کد |
| `Description` | `string?` | توضیح نقش |
| `CreatedAt` | `DateTime` | تاریخ ایجاد |
| `IsSystemRole` | `bool` | آیا نقش سیستمی و غیرقابل حذف است؟ |

---

## 🔄 ارتباطات

- هر `User` می‌تواند چند `Role` داشته باشد
- هر `Role` می‌تواند به چند `Permission` متصل شود
- ارتباطات از طریق جداول میانی:
  - `UserRole`
  - `RolePermission`

---

## 🧠 گسترش آینده (Future Expansion)

| گسترش | شرح |
|--------|------|
| `Scope` | تعریف دامنه نقش (مثلاً فقط برای یک دپارتمان خاص) |
| `RoleGroup` | گروه‌بندی نقش‌ها (مثلاً: «نقش‌های سازمان X») |
| `Inheritable Roles` | نقش‌هایی که می‌توانند نقش‌های دیگر را به ارث ببرند |
| `AssignableFromUI` | نقش‌هایی که از طریق پنل مدیریت قابل واگذاری هستند |
| `AutoAssignment` | امکان تخصیص خودکار نقش‌ها بر اساس شرایط خاص |
| `Audit Logs` | ثبت لاگ تغییرات نقش‌ها (چه کسی کی نقش را ویرایش کرد) |
| `IsEditableByAdmin` | نقش‌هایی که فقط مدیر اصلی می‌تواند ویرایششان کند |
| `DynamicRoles` | نقش‌هایی که بر اساس Rule ساخته می‌شوند (مثلاً «همه کاربران واحد مالی که مدیر نیستند») |

---

## 🧩 مثال‌هایی از نقش‌ها

| Name | Code | توضیح |
|------|------|-------|
| مدیر سیستم | SYS_ADMIN | دسترسی کامل |
| کاربر دبیرخانه | DOC_USER | ثبت و پیگیری نامه |
| ناظر | AUDITOR | فقط خواندن اطلاعات |
| کارشناس فناوری | IT_STAFF | پشتیبانی فنی |

