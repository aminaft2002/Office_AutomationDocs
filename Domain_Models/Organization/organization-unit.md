
# 🏢 Entity: OrganizationUnit (واحد سازمانی)

## 🎯 هدف
مدل `OrganizationUnit` ساختار درختی واحدهای سازمانی را نگهداری می‌کند.  
هر واحد ممکن است زیرمجموعه یک واحد بالادستی باشد (parent-child structure).

---

## 🧱 فیلدهای اصلی

| فیلد | نوع | توضیح |
|------|------|--------|
| `Id` | `Guid` | شناسه یکتا |
| `ParentId` | `Guid?` | شناسه واحد بالادستی (nullable) |
| `Name` | `string` | نام واحد (مثلاً: «مدیریت منابع انسانی») |
| `Code` | `string` | کد داخلی واحد (مثلاً: HR01) |
| `Description` | `string` | توضیح اضافی |
| `IsActive` | `bool` | آیا این واحد فعال است؟ |
| `Level` | `int` | سطح واحد در ساختار درختی (0: ریشه، 1: زیرمجموعه و...) |
| `CreatedAt` | `DateTime` | زمان ایجاد |

---

## 🔄 ارتباطات

- هر `OrganizationUnit` می‌تواند چندین `User` و `LetterPermission` داشته باشد
- ساختار درختی از طریق `ParentId` قابل پیاده‌سازی است

---

## 🧠 نکات فنی

- برای بازسازی ساختار درختی می‌توان از الگوریتم‌های بازگشتی استفاده کرد
- در آینده می‌توان ویژگی‌هایی مثل محل جغرافیایی، مسئول واحد، ظرفیت کارتابل و... اضافه کرد

---

## 🔐 امنیت و نقش‌ها

- نقش‌ها و دسترسی‌ها می‌توانند به سطح واحدها گره بخورند
- مثلاً: هر کاربر عضو یک `OrganizationUnit` خاص می‌باشد و مجوزهایی به‌صورت پیش‌فرض دارد
